"use strict";(self.webpackChunkgrafana_lokiexplore_app=self.webpackChunkgrafana_lokiexplore_app||[]).push([[677],{677:(e,r,t)=>{t.r(r),t.d(r,{VARIABLE_NAMESPACE:()=>y,buildLogsExplorationFromState:()=>m,default:()=>O});var n=t(5959),o=t.n(n),i=t(4423),a=t(4509),l=t(8469),c=t(5252),u=t(1296),s=t(3257),p=t(2152);function f(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function b(e,r){return r=null!=r?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}),e}function d(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function m(e){var{onTimeRangeChange:r,query:t,referenceQuery:n,timeRangeState:o,options:l,hideTimePicker:p}=e,m=d(e,["onTimeRangeChange","query","referenceQuery","timeRangeState","options","hideTimePicker"]);const y=new i.JZ(o);if(y.subscribeToState(e=>{r&&r(e.value)}),!t)return console.error("No query parameter found! Please pass in a valid logQL query string when embedding Logs Drilldown."),(0,a.EE)(a.NO.service_details,a.ir.service_details.embedded_error),null;(0,u.default)();const{labelFilters:O,lineFilters:g}=(0,s.BW)(t),v=(0,s.BW)(null!=n?n:""),P=O.map(e=>({key:e.key,operator:e.operator,value:e.value})),j=v.labelFilters.map(e=>({key:e.key,operator:e.operator,value:e.value}));return(0,a.EE)(a.NO.service_details,a.ir.service_details.embedded_init),new c.P(b(function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(r){f(e,r,t[r])})}return e}({},m),{$timeRange:y,defaultLineFilters:g,embedded:!0,embeddedOptions:l,initialLabels:P,referenceLabels:j,hideTimePicker:p}))}const y="ld";function O(e){const[r,t]=(0,n.useState)(null);return(0,n.useEffect)(()=>{r||((0,p.rX)(!0),t(m(e)))},[r,e]),r?o().createElement(i.$L,{scene:r,updateUrlOnInit:!1,createBrowserHistorySteps:!0,namespace:null!==(a=e.namespace)&&void 0!==a?a:y,excludeFromNamespace:["from","to","timezone",l.o,l.Z]},o().createElement(r.Component,{model:r})):null;var a}}}]);
//# sourceMappingURL=677.js.map?_cache=e2da9d2c07fe26034d22